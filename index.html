<!DOCTYPE html>
<!-- saved from url=(0107)file:///C:/Users/fifth/Google%20Drive/08-07-2017-JC-Class-Repository-FSF/week06/6.3/16-NYTSearch/index.html -->
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>NYTimes Article Search</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
        crossorigin="anonymous">

</head>

<body>
    <div class="container">
        <div class="jumbotron">
            <h1>NYTimes Article Search</h1>
        </div>
        <div class="card">
            <div id="search" class="card-header'>
                <form action="index.html"
                    class="form-group">
                    <label for="term">Search:</label>
                    <input type="text" name="" id="term" class="form-control">
                    <label for="term">Number of Record:</label>
                    <input type="text" name="" id="records" class="form-control">
                    <label for="term">Start Year:</label>
                    <input type="text" name="" id="start_year" class="form-control">
                    <label for="term">End Year:</label>
                    <input type="text" name="" id="end_year" class="form-control">
                    <button type="submit">Search</button>
                    <button type="reset" value="reset">Clear</button>
                </form>
            </div>
        </div>

        <div id="article">

        </div>
    </div>
    <script src="./index_files/jquery.min.js.download">
        
            $(document).ready(function() {

    $(".submit").on("click", function(event) {
        event.preventDefault();

        var numberOfRecords = "5";
        var searchTerm = 'q:' + 'mexico';
        var numberOfRecords = '5'
        var startYear = '2017'
        var endYear;
        var url = "https://api.nytimes.com/svc/search/v2/articlesearch.json";
        url += '?' + $.param({
            'api-key': "e8718dd97c2d4ed4b2555c6c310c1963",
            searchTerm,


        });
        $.ajax({
            url: url,
            method: 'GET',
        }).done(function(result) {
            console.log(result);
            var dataArray = result.response.docs;
            for (var i=0;i<dataArray.length;i++){
                var articleDiv = $("<div>");
                var articleTitleDiv = $("<div>"+ (i+1)+dataArray[i].headline.main+"</div>");
                var authorDiv = $("<div>"+ (i+1)+dataArray[i].byline.original+"</div>");
                var sectionDiv = $("<div>"+dataArray[i].section_name+"</div>");
                var pubDateDiv = $("<div>"+dataArray[i].pub_date+"</div>");

                var hyperLinkDiv = $("<a href="+dataArray[i].web_url+">link text</a>");

                articleDiv.append(articleTitleDiv);
                articleDiv.append(authorDiv);
                articleDiv.append(sectionDiv);
                articleDiv.append(pubDateDiv);
                articleDiv.append(hyperLinkDiv);



            }



        }).fail(function(err) {
            throw err;
        });



    });



});
    </script>




    <script src="./index_files/app.js.download"></script>





</body>

</html>